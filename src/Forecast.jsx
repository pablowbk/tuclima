import React from 'react';
import './Forecast.css';

function Forecast({data, ready, getWeekday, imperial}) {
  return (
    <div className="Forecast">
      
      { 
        ready ? // if forecast data is available, proceed...
        data.map( day => {
          return (                // maybe turn this into a Card comp...
            <div className="day" key={day.ts}>
              <div className="day__weekday">
                <h3>{getWeekday(day.ts)}</h3>
                <h5>{day.datetime}</h5>
              </div>
              
              <div className="day__minmax">
                <svg viewBox="0 0 104 228" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M86.8343 0H20.4965V135.061C7.59919 144.831 0 159.993 0 176.277C0 204.801 23.1983 227.999 51.7227 227.999C80.2439 227.999 103.445 204.801 103.445 176.277C103.445 161.761 97.4192 148.085 86.8281 138.297V0H86.8343ZM91.076 176.277C91.076 197.978 73.4235 215.634 51.7227 215.634C30.0188 215.634 12.3663 197.978 12.3663 176.277C12.3663 163.03 18.9871 150.748 30.0881 143.418L32.8623 141.594V12.3663H74.468V144.022L76.72 145.875C85.8503 153.393 91.076 164.467 91.076 176.277Z" fill="black"/>
                  <path d="M65.6951 148.683V105H42.125V147.325C30.0126 151.534 21.2691 162.922 21.2691 176.471C21.2691 193.571 35.1329 207.447 52.2481 207.447C69.3484 207.447 83.224 193.571 83.224 176.471C83.2178 164.213 76.0323 153.707 65.6951 148.683Z" fill="black"/>
                  <path d="M65.9492 69H41.9492V75H65.9492V69Z" fill="black"/>
                  <path d="M65.9492 28H41.9492V34H65.9492V28Z" fill="black"/>
                  <path d="M50.9492 19V43H56.9492V19H50.9492Z" fill="black"/>
                </svg>

                <p>
                  <span className="tempMax">{parseInt(day.max_temp)}</span>
                  /
                  <span className="tempMin">{Math.round(day.min_temp)}</span>
                </p>
              </div>
              
              <div className="day__weatherCond">
                <img 
                  src={require(`./icons/${day.weather.icon}.png`)} // fetching icon image locally
                  alt="weather icon"
                  />
              <p className="day__weatherDesc">
                {day.weather.description}
              </p>
              </div>

              <div className="day__precip">
                <svg viewBox="0 0 238 250" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M230.671 142.506C228.925 114.567 216.604 88.5412 195.978 69.2232C176.505 50.9859 151.358 40.3845 124.694 39.0602V31.724C124.694 28.6165 122.144 26.0977 118.997 26.0977C115.851 26.0977 113.3 28.6165 113.3 31.724V39.0602C86.6517 40.3835 61.5149 50.9752 42.0476 69.1924C21.4269 88.4889 9.09721 114.492 7.32994 142.412C7.19665 144.522 8.27242 146.529 10.1163 147.605C11.9591 148.682 14.2586 148.647 16.0665 147.514C22.9877 143.179 31.0049 140.888 39.2513 140.888C50.7662 140.888 61.5976 145.286 69.7722 153.276C70.8844 154.481 72.4252 155.11 73.9836 155.11C75.0853 155.11 76.1956 154.795 77.1683 154.147L77.2685 154.08C77.3078 154.053 77.347 154.027 77.3853 154C87.8712 146.627 99.9788 142.251 112.717 141.165V227.556C112.717 239.932 122.912 250.001 135.444 250.001C147.975 250.001 158.17 239.932 158.17 227.556C158.17 224.448 155.62 221.93 152.474 221.93C149.328 221.93 146.777 224.448 146.777 227.556C146.777 233.727 141.693 238.748 135.444 238.748C129.195 238.748 124.111 233.727 124.111 227.556V141.07C137.32 141.976 149.863 146.385 160.653 153.972C162.915 155.563 166.008 155.311 167.977 153.376C176.167 145.323 187.042 140.887 198.601 140.887C206.896 140.887 214.96 143.207 221.919 147.594C223.726 148.734 226.027 148.775 227.875 147.701C229.722 146.627 230.803 144.619 230.671 142.506ZM68.0281 137.688C59.4645 132.448 49.5784 129.636 39.2518 129.636C32.5698 129.636 26.0051 130.828 19.8469 133.132C23.3927 111.89 33.846 92.3685 49.8837 77.3605C61.8264 66.1849 76.1455 58.2101 91.6491 53.895C87.9946 58.3529 84.6292 63.7519 81.6345 70.035C72.9385 88.2784 68.117 112.28 68.0281 137.688ZM119.002 129.636C105.025 129.636 91.5225 133.026 79.4253 139.505C79.4229 139.138 79.4177 138.771 79.4177 138.403C79.4177 114.352 83.8664 91.7738 91.9431 74.8262C99.2915 59.4079 108.995 50.4206 118.571 50.1676C118.71 50.1643 118.854 50.1648 118.997 50.1648C119.14 50.1648 119.283 50.1643 119.429 50.1681C128.996 50.4202 138.697 59.4074 146.046 74.8257C154.123 91.7738 158.571 114.353 158.571 138.403C158.571 138.812 158.6 139.171 158.646 139.502C146.552 133.026 133.026 129.636 119.002 129.636ZM198.601 129.636C188.331 129.636 178.494 132.419 169.96 137.606C169.861 112.229 165.041 88.2597 156.355 70.0345C153.36 63.7505 149.995 58.3515 146.34 53.8936C161.857 58.2124 176.188 66.197 188.138 77.3885C204.175 92.4077 214.622 111.939 218.157 133.189C211.952 130.848 205.336 129.636 198.601 129.636Z" fill="black"/>
                  <path d="M2.19087 71.3447C4.58736 64.0245 7.48659 61.2972 13.5432 50.3944C18.1391 62.6432 24.5594 69.7694 17.9722 80.2723C13.3933 87.5732 -0.406029 83.8355 2.19087 71.3447Z" fill="black"/>
                  <path d="M62.1909 26.3447C64.5874 19.0245 67.4866 16.2972 73.5432 5.39437C78.1391 17.6432 84.5594 24.7694 77.9722 35.2723C73.3933 42.5732 59.594 38.8355 62.1909 26.3447Z" fill="black"/>
                  <path d="M156.191 26.3447C158.587 19.0245 161.487 16.2972 167.543 5.39437C172.139 17.6432 178.559 24.7694 171.972 35.2723C167.393 42.5732 153.594 38.8355 156.191 26.3447Z" fill="black"/>
                  <path d="M215.191 71.3447C217.587 64.0245 220.487 61.2972 226.543 50.3944C231.139 62.6432 237.559 69.7694 230.972 80.2723C226.393 87.5732 212.594 83.8355 215.191 71.3447Z" fill="black"/>
                </svg>
                <span className="infoItem__unit">{ready ? day.pop : null}%</span>
              </div>
              

              
              


            </div>
          )
        }) 
        : null 
      }

    </div>
  )
}

export default Forecast
